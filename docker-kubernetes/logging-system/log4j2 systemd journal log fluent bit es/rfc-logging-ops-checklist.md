# RFC 첨부 B: 운영 체크리스트

## 목적

- 감사로그 파일 보관 요건을 만족하기 위한 운영 항목 정리.
- 도입/운영 단계에서 누락 방지를 위한 체크리스트.

## 공통 운영 체크

- 파일 보관 기간/용량 정책 정의 (예: 1년 보관, 일 50GB)
- 로그 접근 권한/감사 추적 정책 정의
- 전송 실패 시 재시도 및 유실 허용 기준 정의
- 장애 알림/모니터링 항목 정의
- 백업/보관 스토리지 암호화 및 무결성 검증

## 안 1) journald -> fluent-bit -> Proxy(파일 + ES)

- Proxy 파일 스토리지 용량 산정
- 파일 로테이션 정책(일/용량 기준) 수립
- Proxy 장애 시 복구 절차 문서화
- fluent-bit 버퍼링/재시도 설정
- Proxy -> ES 전송 실패 시 큐 적재 정책

## 안 2) app file -> filebeat -> ES (+ 중앙 스토리지)

- 애플리케이션 로그 파일 로테이션 정책 통일
- filebeat harvest 설정(rotate/close 정책) 검증
- 중앙 스토리지 업로드/동기화 실패 시 재처리 방안
- 파일 보관 경로 표준화 및 권한 정책 적용

## 안 3) journald -> fluent-bit -> ES + journald 파일 보관

- journald 보존 정책(Storage, SystemMaxUse 등) 확정
- export/forward 스케줄링 및 실패 재시도
- 중앙 스토리지 업로드 무결성 검증
- journald 설정 변경 시 영향 범위 검토

## 모니터링/알림 (권장)

- 로그 수집 지연 시간
- 수집 실패/재시도 횟수
- 스토리지 용량 임계치
- ES 전송 실패율
